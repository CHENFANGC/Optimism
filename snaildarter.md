---
timezone: Asia/Shanghai
---

> 请在上边的 timezone 添加你的当地时区，这会有助于你的打卡状态的自动化更新，如果没有添加，默认为北京时间 UTC+8 时区
> 时区请参考以下列表，请移除 # 以后的内容

timezone: Pacific/Honolulu # 夏威夷-阿留申标准时间 (UTC-10)

timezone: America/Anchorage # 阿拉斯加标准时间 (UTC-9)

timezone: America/Los_Angeles # 太平洋标准时间 (UTC-8)

timezone: America/Denver # 山地标准时间 (UTC-7)

timezone: America/Chicago # 中部标准时间 (UTC-6)

timezone: America/New_York # 东部标准时间 (UTC-5)

timezone: America/Halifax # 大西洋标准时间 (UTC-4)

timezone: America/St_Johns # 纽芬兰标准时间 (UTC-3:30)

timezone: America/Sao_Paulo # 巴西利亚时间 (UTC-3)

timezone: Atlantic/Azores # 亚速尔群岛时间 (UTC-1)

timezone: Europe/London # 格林威治标准时间 (UTC+0)

timezone: Europe/Berlin # 中欧标准时间 (UTC+1)

timezone: Europe/Helsinki # 东欧标准时间 (UTC+2)

timezone: Europe/Moscow # 莫斯科标准时间 (UTC+3)

timezone: Asia/Dubai # 海湾标准时间 (UTC+4)

timezone: Asia/Kolkata # 印度标准时间 (UTC+5:30)

timezone: Asia/Dhaka # 孟加拉国标准时间 (UTC+6)

timezone: Asia/Bangkok # 中南半岛时间 (UTC+7)

timezone: Asia/Shanghai # 中国标准时间 (UTC+8)

timezone: Asia/Tokyo # 日本标准时间 (UTC+9)

timezone: Australia/Sydney # 澳大利亚东部标准时间 (UTC+10)

timezone: Pacific/Auckland # 新西兰标准时间 (UTC+12)

---

# Neal Lee

1. 自我介绍
用挣钱激励自己学习，用学习激励自己赚钱。
2. 你认为你会完成本次残酷学习吗？
可以的。
## Notes

<!-- Content_START -->

### 2025.01.06
核心概念 - Optimistic Rollup 是 Optimism 的关键，借父链（以太坊）安全与共识机制运作。
块存储 - Bedrock里，L2块以特定方式存于以太坊，提交后不可改，用压缩格式写入L1降成本。
块生产 - “排序器”管理块生产，防MEV。块每2秒生成，交易通过直接或L1提交至排序器，L1提交具备抗审查能力，当前由Optimism Foundation运行块生产。
块执行 - 执行引擎（op-geth）通过对等网络同步、rollup节点（op-node）从L1派生两种方式接收块。
跨层转移 - 支持 L1 和 L2 间资产转移，OP Mainnet 用标准桥实现。从以太坊到 OP Mainnet为 “存款”，反向 “取款” 分三步（初始化、提交证明、最终完成）。
故障证明 - 状态承诺在L1有7天挑战期，无挑战即确认，受挑战可经故障证明处理，不回滚OP Mainnet。该流程现因EVM更新而重构。

### 2025.01.07
Layer 2扩容技术是为解决区块链主网（Layer 1）交易拥堵和高手续费等问题而发展起来的，通过将部分交易从主网转移到二层网络进行处理，实现了在不改变主网底层协议的基础上提升区块链的性能。常见的Layer 2扩容技术如下：

#### State Channels
- 原理：允许用户在链下建立通道进行多次交易，只在通道开启和关闭时将交易结果记录在主链上，期间的交易状态在链下维护。
- 优点：交易速度快，可实现即时确认；交易成本低，因为大量交易无需上链。
- 缺点：通道内的资金有一定的锁定时间；安全性依赖于参与者的信用和智能合约的安全性。
- 应用：主要应用于高频小额交易场景，如支付、微交易等。

#### Sidechains
- 原理：与主链平行的独立区块链，通过双向锚定技术实现与主链的资产转移和交互。侧链有自己的共识机制和交易处理能力，可独立处理交易。
- 优点：具有较高的灵活性，可根据需求定制侧链的功能和参数；能实现一定程度的扩容，缓解主链压力。
- 缺点：跨链交互的安全性和复杂性较高；侧链的安全性和主链存在一定的耦合性。
- 应用：可用于实现特定的业务逻辑或功能，如隐私交易、游戏等。

#### zk-Rollups
- 原理：将多个链下交易打包成一个批次，生成一个零知识证明，然后将证明和交易摘要提交到主链。主链只需验证零知识证明的有效性，即可确认整个批次交易的合法性。
- 优点：数据可用性和安全性高，主链可验证交易的有效性；隐私性好，零知识证明可隐藏交易细节。
- 缺点：技术实现复杂，对开发者要求高；证明生成和验证的计算成本较高。
- 应用：适用于对隐私和安全性要求较高的场景，如金融交易、身份认证等。

#### Optimistic Rollups
- 原理：假设所有提交到Layer 2的交易都是合法的，先将交易结果快速更新到Layer 2，并将交易数据压缩后提交到主链。在一定的挑战期内，如果有用户发现交易存在问题，可发起挑战，通过智能合约进行验证和处理。
- 优点：兼容性好，易于与现有以太坊生态系统集成；交易速度较快，可实现快速确认。
- 缺点：挑战期内存在一定的安全风险；交易最终确认时间较长。
- 应用：广泛应用于以太坊Layer 2解决方案，如Optimism、Arbitrum等。

### 2025.01.08

#### zk-rollup gas fee
- 链下部分（存储+证明者成本）：状态存储和 SNARK（零知识证明）生成的成本。
（这部分依赖于硬件资源的使用，因此是不变的。我们的基准估计每次转账约为 0.001 美元。）
- 链上部分（gas 成本）：对于每个zkSync 区块，验证者必须支付以太坊 gas 来验证 SNARK，另外每笔交易额外支付约 0.4k gas 来发布状态。
（链上部分是一个变量，取决于以太坊网络中当前的 gas 价格。但是，这部分比普通 ETH/ERC20 转账的成本要便宜几个数量级。）

1. 交易费最低价
依赖于主网 gas 的价格
**链上 gas fee = 每 wei 的价格 * 交易大小 * gas 的费用 * 代币的风险系数**
**链下部分 ： SNARK（零知识证明）生成的成本。这部分依赖于硬件资源的使用，因此是不变的。每次转账基准约为 0.001 美元。**

2. 影响最低价的因素
依赖于主网的 calldata 的费用
<!-- 主网的 gas 的相关处于草案阶段的 EIP 主要为 EIP4488，该方案将 calldata 非0字节数据由16gas 降低至 3 gas，对 layer2 TPS的影响较大，利好 layer2 的 Rollup，可以大大降低Rollup主网的交易成本，非0字节的数据可以降低为当前的 1/5 的成本不到，0 字节的也可以微微降低（ab，op，zk 等预计都可以下降至目前 1/5 的手续费）。 -->

3. 费用支付方式
zkSync 中的转账天然支持 “无 gas 交易”：用户在被转账的代币中支付交易费用。
<!-- 例如，如果您想交易 DAI 稳定币，您无需拥有 ETH 或任何其他代币。只需支付一小部分 DAI 的费用。 -->

#### Op Gas 机制
**两个成本来源：L2 执行费和 L1 数据/安全费。**

- L2 执行费
就像在以太坊上一样，Optimism 上的交易必须为他们使用的计算量和存储量支付gas 。每笔 L2 交易都会支付一定的执行费用，等于交易使用的 gas 数量乘以交易附带的 gas 价格。这也是以太坊的收费方式。

<!-- 这是（简单的）公式：
l2_execution_fee = transaction_gas_price * l2_gas_used
使用的 L2 气体量取决于您尝试发送的特定交易，交易在 Optimism 上使用的 gas 量通常与在 Ethereum 上的大致相同。 -->

- L1 数据费
Op 与以太坊不同，因为 Op 上的所有交易也都发布到以太坊。此步骤对于 Op 的安全属性至关重要，因为这意味着同步 Op 节点所需的所有数据始终在以太坊上公开可用。这就是使 Op 成为 L2 的原因。

Op 上的用户必须支付向以太坊提交交易的费用。称之为L1 数据费用 ，这是 Op（和其他 L2）与以太坊之间的主要差异。由于以太坊上的 gas 成本非常昂贵，因此 L1 数据费用通常会在 Op 上占据交易的总成本。该费用基于四个因素：
 1. 以太坊当前的gas价格。
 2. 将交易发布到以太坊的 gas 成本。这交易长度的大小（以字节为单位）成比例。
 3. 以gas计价的固定费用。当前设置为 2100。
 4. 一种动态的间接费用，按固定数字支付的 L1 费用。当前设置为 1.24。
公式：L1_data_fee = L1_gas_price * (tx_data_gas + fixed_overhead) * dynamic_overhead

### 2025.01.09

<!-- 尝试从 L1 入金到 L2，暂未成功，在找原因。 -->
借助官方桥，自己用 viem 入金 L2 成功。

### 2025.01.10

尝试erc20 入金 op，暂未成功，

### 2025.01.11

仔细看了文档，使用相对应的版本，approve 还没成功， 后续步骤无法成功。
报错 Unexpected error when checking bridge Error: could not detect network (event="noNetwork", code=NETWORK_ERROR, version=providers/5.7.2)
但是 chainId 是对的。

也看了 viem 的相关文档，有入金 eth 的例子，还未找到发送 ERC20 相关的例子。

### 2025.01.13
#### 基金会对超级链的产品愿景概述了整个 Op Collective 正在共同构建的产品的核心特征。

- 链的标准化实现了大规模的去中心化和可组合性
- 超级链从 15-50 条感觉像一条链开始，然后扩展到 1000+
- 治理保护超级链的安全
- 治理创造了可持续增长和发展的飞轮

#### 影响 = 利润

Op Collective 受到一个互惠互利的协议的约束，该协议可以用公理 Impact=Profit 来概括。
Op Collective 的使命是创造一个惠及所有人且不归任何人拥有的互联网。为此，Collective 正在创造一种新的经济范式，其中影响力得到回报。Collective 称这个未来的以太凤凰。

 #### 治理

Collective 的数字民主治理模型由两个殿堂组成：Token House 和 Citizens' House。这两个形成了一个两院制的治理体系，旨在帮助 Collective 做出更好的决策，避免基于代币的治理系统中的常见陷阱，并进行制衡。

##### Token House

<!-- Op Collective 的治理始于 OP 代币和 Token House 的推出。 -->
作为 Token House 成员，OP 持有者负责提交、审议和投票各种类型的治理提案。 在执行这些功能时，OP 持有者可以直接投票，也可以将其 OP 投票权委托给其他人。
Token House 对操作手册中概述的提案类型进行投票。

##### Citizens' House

Citizens' House 是以声誉为基础、一人 = 一票治理的大规模实验，负责追溯性公共产品资助（Retro Funding）。
Retro Funding 是 Collective 的主要经济引擎，奖励那些在 Collective 和超级链上产生积极影响的人。Retro Funding 基于一个简单的想法，即就过去有用的内容比将来可能有用的内容更容易达成一致。

### 2025.01.14

1. 治理架构：由Token House（通证议院）和Citizens’ House（公民议院）组成。Token House中，OP通证持有者负责提交、审议和投票各类治理提案，可直接投票或委托投票权；Citizens’ House里，Op公民通过追溯性公共物品资助为公共物品建设者分配奖励，并对升级提案进行否决投票。 
2. 治理工具：Token House治理主要工具包括Token House治理合约、Optimism治理门户、公民议院Snapshot空间、Op论坛、Discord、Github和Charmverse等。这些工具会随治理发展而变化。
3. 提案流程
    - 投票周期：所有治理提案历经三周周期，每周从周四19:00 GMT（12:00 PST）至周三19:00 GMT（12:00 PST）。
    - 提案类型
        - Mission Grants：Token House使命请求由Grants委员会审核，基金会使命请求由基金会审核，申请需遵循Github上各使命请求的提交流程。
        - 其他提案类型
            - 第1 - 2周：非拨款提案在论坛发布供社区审核，标题需含[Draft]，并按标准提案模板撰写。提案需获4名前100名代表（Token House提案）或4名公民（Citizens’ House提案）明确批准，方可进入第3周投票。获批准后，作者更新标题为[Final]，并在第2周最后一天将提案链接添加到投票周期汇总帖，同时附上反馈总结。
            - 第3周：所有公民和代表对符合条件的提案投票。不同议院提案通过需满足各自的最低投票门槛，包括法定人数和批准阈值。
4. 否决程序：公民议院可对Token House批准的协议或治理者升级提案进行否决，反之亦然。否决需达到相应的否决阈值。
5. 有效提案类型：涵盖治理基金、协议或治理者升级、通胀调整、董事罢免、财政拨款、行为准则违规、代表罢免、代表结构解散、权利保护、选举、批准、反思期（元治理）等。各提案类型在提交、审批、投票时长、法定人数、批准阈值、否决阈值及否决权等方面要求各异。 
6. 追溯性公共物品资助：公民议院通过一系列“轮次”进行投票和拨款，以追溯奖励对公共物品有重大影响的项目。每轮包括范围界定、申请创建、申请审核、投票、拨款和合规等步骤。
7. 实施与管理
    - 管理：Op基金会负责促进治理程序的管理，包括审核提案、移除不当提案、监控投票等。
    - 实施：批准的治理提案交予Op基金会实施。基金会判断提案是否安全、合规等，若符合则实施，否则可移除或有条件实施，并向社区解释原因。
8. 变更流程：操作手册程序随GitHub发布生效，重大变更与治理实验相关，非文书更新会体现在文档顶部版本号，更新版本随即生效。 
9. 流程总结：提案历经三周审核；拨款申请按GitHub使命请求提交；非拨款提案按模板起草，在论坛获反馈与批准后进入投票；特定提案需通过否决程序；获批提案由基金会实施，失败提案可修改后重新提交；公民议院还负责追溯性公共物品资助的分配。 

### 2025.01.15
#### CoCC第六季回顾
1. KPI影响评估
    - 执行情况：遵循5个工作日处理案例的章程，快速响应严重违规案例。3份报告未强制处理便降低冲突等级，1份采取强制措施，1份提交调解。通过论坛发布案例确保问责透明，更新1次章程让制裁范围更清晰。每月安排办公时间，截至季末举行4次公开办公、定期周会及部分CFC会议。季中无成员因冲突管理不善退出，与冲突管理行动相关的通证投票负担小。已分享季中报告，季末报告11月28日前发布。
    - 成员看法：成员认为在实现季初KPI上有进展，通过处理冲突为集体做贡献，但预防和教育方面有待提升。
2. 产出对授权意图的支持评估
    - 成员观点：部分成员认为工作对集体治理去中心化关键，团队尽责且未增治理负担；部分认为方向正确，但职责范围需调整，部分案例超出职责；还有成员觉得通过更新程序、处理报告等支持了提升集体价值和信任的目标。
3. 遇到的主要问题
    - 成员反馈：被视为惩罚性机构，而非推动集体价值观的团体；常收到处理范围外的第三方报告；处理平台外问题时权力受限；行动范围窄，无法满足人们对解决方案的需求；与社区和通证议院其他机构沟通不畅。
4. 下一季可探索的解决方案
    - 成员建议：更多参与集体价值观教育；变成综合报告服务机构，提供沟通渠道；赋予更多权力，如负责人有论坛帖子隐藏权限；制定处理案例的资源和清单；加强成员联系；考虑改名以明确使命，与其他治理机构建立更紧密联系，指定成员为联系人。
5. 对下一季团队职责的改进建议
    - 成员提议：设社区反馈表评估委员会影响；将贡献纳入治理追溯资金轮次；赋予负责人平台管理权限执行制裁；支持教育行动；拓展对话空间；明确第三方参与冲突仲裁的程序；改进跨平台和机构的协调；改进工具，如创建应用；明确职责，注重治理问责，关注集体其他代表的权益。
6. 团队下一季运营的看法
    - 整体意见：成员认为行为准则委员会重要，能将规则监督执行分散到社区，具有自主性和中立性，应继续运营。 

### 2015.01.16
#### 追溯性公共物品资助（Retro Funding）运作机制
Retro Funding的理念是，就过去有用的事物达成共识比预测未来的更容易。公民议院成员会把协议盈余收入或通证分配额度，给到那些对Optimism集体及超级链有积极影响的项目，践行“影响=利润”的价值观。

#### 作用与益处
这些奖励能激励人们打造对Optimism集体有益的公共物品，促进生态系统发展，增加应用使用和区块空间需求。同时，为公共物品项目提供退出流动性，利于项目早期融资。项目建设者不用直接盈利也能因贡献获奖励，还能凭项目潜力筹集启动资金。

#### 实施情况与发展
Retro Funding是长期投入，会定期开展且每次不同，需社区参与完善。已进行了三轮：2021年底第一轮给58个项目拨100万美元；2023年第一季度第二轮向195个项目分1000万枚OP通证；2023年第四季度第三轮给501个项目分3000万枚OP通证。第四轮将于2024年第二或三季度奖励对Optimism有贡献的链上建设者，可在[retrofunding.optimism.io](https://atlas.optimism.io/)报名 。

#### 核心构成与规划
它有三个核心部分：影响范围界定（决定资助内容）、影响评估（评估项目影响力的方式）、影响结算（投票机制）。起初几轮由Optimism基金会参考社区意见决定范围和投票机制，之后由公民议院决策，通证议院制衡。 

<!-- Content_END -->
