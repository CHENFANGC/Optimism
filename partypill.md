---
timezone: Asia/Shanghai
---

> 请在上边的 timezone 添加你的当地时区，这会有助于你的打卡状态的自动化更新，如果没有添加，默认为北京时间 UTC+8 时区
> 时区请参考以下列表，请移除 # 以后的内容

timezone: Pacific/Honolulu # 夏威夷-阿留申标准时间 (UTC-10)

timezone: America/Anchorage # 阿拉斯加标准时间 (UTC-9)

timezone: America/Los_Angeles # 太平洋标准时间 (UTC-8)

timezone: America/Denver # 山地标准时间 (UTC-7)

timezone: America/Chicago # 中部标准时间 (UTC-6)

timezone: America/New_York # 东部标准时间 (UTC-5)

timezone: America/Halifax # 大西洋标准时间 (UTC-4)

timezone: America/St_Johns # 纽芬兰标准时间 (UTC-3:30)

timezone: America/Sao_Paulo # 巴西利亚时间 (UTC-3)

timezone: Atlantic/Azores # 亚速尔群岛时间 (UTC-1)

timezone: Europe/London # 格林威治标准时间 (UTC+0)

timezone: Europe/Berlin # 中欧标准时间 (UTC+1)

timezone: Europe/Helsinki # 东欧标准时间 (UTC+2)

timezone: Europe/Moscow # 莫斯科标准时间 (UTC+3)

timezone: Asia/Dubai # 海湾标准时间 (UTC+4)

timezone: Asia/Kolkata # 印度标准时间 (UTC+5:30)

timezone: Asia/Dhaka # 孟加拉国标准时间 (UTC+6)

timezone: Asia/Bangkok # 中南半岛时间 (UTC+7)

timezone: Asia/Shanghai # 中国标准时间 (UTC+8)

timezone: Asia/Tokyo # 日本标准时间 (UTC+9)

timezone: Australia/Sydney # 澳大利亚东部标准时间 (UTC+10)

timezone: Pacific/Auckland # 新西兰标准时间 (UTC+12)

---

# {partypill}

1. 自我介绍
一个自学了一些python的老白。想努力学习获得更多收益。

2. 你认为你会完成本次残酷学习吗？
我愿意为此努力。

## Notes

<!-- Content_START -->

### 2025.01.06

笔记内容
1、今天第一天打卡，记录那些我不懂的东西并明天得出结论。
“默认假设所有交易都是有效的，只有在有人提出争议时才进行验证”：以太坊的验证机制是什么？怎么通过验证机制保持安全性？这点我不懂需要继续学习。
以太坊虚拟机（EVM）：不懂这个东西是啥，需要进一步回溯学习。
“挑战期”（Challenge Period）：不知道这个概念
复杂智能合约：不懂这个的机制，只知道因为它需要主网交互，导致需要高处理。
L2 和 L1 层：对概念掌握不清晰。
退出时间：这个也不清楚，需要搞明白挑战期。

欺诈证明（Fraud Proof）机制：不懂。
2、今天学到的东西
知道了op设计的初衷是为了降低eth的高gas，因为安全，去中心化和速度是不可能三角。eth保证了安全和去中心化，但速度没法保证。所以一开始设计了子链Plsma，除了少数必要的交易其他都在子链上处理，但这导致了子链的信息无法同步到eth主网，一个是不安全，另一个是挑战期退出慢。
然后op设计了打包交易上传，等于压缩了多次交易只需要一次上链，好处是同步速度快，坏处就是扩容性差。

3、阅读steps去了解必要的信息。

### 2025.01.07
1、回顾昨天的问题

1.1“默认假设所有交易都是有效的，只有在有人提出争议时才进行验证”：以太坊的验证机制是什么？怎么通过验证机制保持安全性？这点我不懂需要继续学习。

答案：Optimistic Rollup（乐观汇总）才假设所有交易有效，以太坊不会假设交易有效。以太坊使用 Merkle Patricia Trie（MPT） 存储账户状态，确保数据完整性和可验证性。验证的细节太复杂看不懂。需要继续学习。

1.1以太坊虚拟机（EVM）：不懂这个东西是啥，需要进一步回溯学习。

答案：以太坊虚拟机（Ethereum Virtual Machine, EVM） 是以太坊的核心组件，它是一个去中心化的计算环境，专门用于执行智能合约和处理交易。可以把 EVM 理解为一个“全球共享的计算机”，它负责运行智能合约，并确保所有节点对智能合约的执行结果达成一致。

这玩意用gas当计算限制，每次使用算力都消耗gas，避免无限支出，天才的设计。uni等很多都是在这个上面运行的。

1.3、“挑战期”（Challenge Period）：不知道这个概念

答案：Optimistic Rollup 默认认为所有交易都是有效的，但为了防止欺诈，系统引入了 挑战期（Challenge Period），通常为 7 天。

挑战期的作用：
让任何人都可以检查 Layer 2 的状态更新。
允许提交 欺诈证明（Fraud Proof），如果发现问题，则回滚错误状态并惩罚作恶者。
保障 Layer 2 交易的安全性，防止欺诈行为。
挑战期的主要缺点：
提现时间较长（通常需要 7 天）。
需要额外的保证金机制，以激励挑战者维护系统安全。

1.4、复杂智能合约：不懂这个的机制，只知道因为它需要主网交互，导致需要高处理。

答案：复杂智能合约指的是功能强大、逻辑复杂、需要与多个智能合约交互的合约。这类合约通常涉及多个状态更新、跨合约调用，并且在以太坊主网（Layer 1）执行时会消耗较高的 Gas 费用。

1.5、L2 和 L1 层：对概念掌握不清晰。
答案：L1 是 主链（Main Chain），它是 整个区块链网络的基础层，负责：安全性、共识机制、智能合约执行、数据存储

L1 直接在区块链上执行交易，并确保去中心化，但由于区块容量有限，它的交易处理能力较低，容易造成 网络拥堵和高 Gas 费。L2 是建立在 L1 之上的扩展解决方案，它在主链之外处理大部分交易，然后将结果提交到 L1，从而减少主链负担，提高交易速度，并降低 Gas 费用。

L2 不改变 L1 的共识机制，而是通过批量处理交易或链下计算来优化性能。op就是使用Rollups的L2

1.6、退出时间：这个也不清楚，需要搞明白挑战期。

答案：退出时间（Withdrawal Time） 指的是用户 从 Optimistic Rollup（OP Rollup）提取资金回到 Layer 1（L1） 所需的时间。
这个时间通常较长（通常 7 天），主要是由于 挑战期（Challenge Period） 机制的存在。

2、精读一下 Vitalik 2014 年的文章。
已经粗读，前置要求的信息太多，需要明天用第一性原理不断溯源。

### 2025.01.08
昨天我貌似已经提前学习了不少相关的知识点，这个要感谢gpt。
今天的学习已经搞定，需要记录自己的问题，明天进行查询。
1、故障(欺诈)证明的工作原理是啥？
虽然有所解释，这个机制的核心是任何人都可以挑战，挑战成功罚没资金，这个机制用啥保证的，是智能合约吗？
2、运行 FP 的名义运营成本（即假设没有无效提案或恶意行为者）将取决于初始债券的设定FaultDisputeGame和发布提案的频率。
运营成本是gas这个已知，初始债券又是啥？提案是怎么提交的？
3、应该留出多少 ETH 来运行故障证明系统？
故障证明系统是啥？我只知道这玩意工作原理，但我要怎么从素人到运行商呢？这个不懂我不能说我搞明白了系统。
4、学习steps“了解一下 Vitalik 提出 Stage 阶段的历程，以前发生过那些不合规的情况，以及目前达到 stage 阶段的一些 L2”。
这个需要我明天学习它。

### 2025.01.09
今天上班晚了而且很疲劳。回顾一下昨天问题，先打卡。

1、故障(欺诈)证明的工作原理是啥？

答案：欺诈证明的本质：通过 重执行（Replay） 交易，计算真正的状态，与提交的状态进行对比：
如果状态一致 → 挑战失败，批次被保留，挑战者被罚款。
如果状态不一致 → 挑战成功，交易被回滚，作恶者被罚没。

2、运行 FP 的名义运营成本（即假设没有无效提案或恶意行为者）将取决于初始债券的设定FaultDisputeGame和发布提案的频率。
运营成本是gas这个已知，初始债券又是啥？提案是怎么提交的？

答案：在 Optimistic Rollup（OP Rollup） 的欺诈证明（Fraud Proof, FP） 机制中，整个挑战过程通常采用 Fault Dispute Game（故障争议游戏） 作为争议解决机制。而在这个过程中，涉及 初始债券（Initial Bond） 和 提案提交（Proposal Submission） 这两个关键部分。
在 Fault Dispute Game（故障争议游戏）中，任何想要参与挑战或提交状态更新的人 必须提供一定数量的押金（Initial Bond） 作为抵押。

如果挑战成功（发现 L2 运营者提交了欺诈状态），挑战者将获得奖励，恶意提交者的押金会被罚没（Slashed）。
如果挑战失败（L2 状态是正确的），挑战者的押金会被没收，以防止恶意挑战。

3、应该留出多少 ETH 来运行故障证明系统？
故障证明系统是啥？我只知道这玩意工作原理，但我要怎么从素人到运行商呢？这个不懂我不能说我搞明白了系统。

答案：gpt教我运行一个验证节点，监测 L2 提交的状态。
在挑战期内，发现无效状态并提交欺诈证明。
提供初始押金（Initial Bond），以便参与挑战。
维护服务器，确保系统 24/7 运行，防止错过挑战机会。
至少5-11eth才有资格当验证节点，运行商和验证节点成本差不多。

4、学习steps“了解一下 Vitalik 提出 Stage 阶段的历程，以前发生过那些不合规的情况，以及目前达到 stage 阶段的一些 L2”。
Rollup 成熟度演变：stage 评级，已经学习。


### 2025.01.10
今天累麻了，先记录下昨天不懂的东西打卡。
问题1、运行欺诈证明系统/有效性证明系统（无计划、正在建设中、部署在测试网上、部署在主网上但位于白名单之后、部署在主网上且无需许可） 可升级性（通过 EOA 立即升级、通过社区 MultiSig / 安全委员会立即升级、通过内置覆盖机制在时间锁后升级等...） 去中心化/逃生舱的存在等... - 中央序列器、无需许可的序列器、L1 强制队列的存在、逃生舱等...

这些名词完全不认识，一个个去找出啥意思。

问题2、Stage 0, Stage 1, Stgae 2
这仨是啥？发展演变历史是啥？不是单纯名词，要弄明白为啥这个机制。
问题3、目前达到了 Stage 1 的 Rollup 的 L2 也就 2 个，arb 和 OP
为啥是这俩，arb是怎么做到的？

### 2025.01.11
今天重感冒了，蛋疼。只能重新复习一下之前的，暂时学不动了，明天我补一下继续学习的部分。
问题2、Stage 0, Stage 1, Stgae 2
这仨是啥？发展演变历史是啥？不是单纯名词，要弄明白为啥这个机制。
答案：Stages 框架是Vitalik Buterin 和 Rollups 开发团队提出一种引导Rollups 发展的概念：

    Stage 0: Minimal Rollup：

    实行基础功能
    数据可用
    验证也可用

Stage 1: Data Availability Independence

    减少对以太坊主链的依赖，数据产生更大的扩展能力
    提高处理能力

Stage 2: Decentralized Sequencers

    Sequencer 不再由单一实体控制，而是通过共识机制（如 PoS）或去中心化网络运行

Stage 3: Interoperability

    不同 Rollups 之间实现互操作性，支持跨 Rollup 资产和数据流转，也就是Superchain现在要做的事情

Stage 4: Full Decentralization

    Rollups 完全实现去中心化，所有核心组件（Sequencer、数据可用性、验证者）均由分布式网络管理。

### 2025.01.12
欺诈证明系统/有效性证明系统：欺诈性，默认正确直到被证明不正确。有效性，除非证明正确否则默认错误。
可升级性为啥重要？
去中心化/逃生舱的存在为啥被郑重提出？
中央序列器、无需许可的序列器、L1 强制队列的存在、逃生舱等：
Data Availability（数据可用性）是指数据是否能够被链上的所有参与者访问和验证。在区块链中，数据的可用性至关重要，因为它确保了链上的交易和状态能够被节点和用户正确地访问、存储和验证。如果数据不可用，节点可能会无法验证交易，进而影响区块链的安全性和一致性。

之前我们学习到 Plasma 和 rollup 其中一个明显区别是关于数据的完全可用上，rollup 对于发送到 L1 的数据是完全可用的，因为 Plasma 使用的是“退出机制”，即如果子链无法提供有效的数据（例如，如果数据丢失或不可用），用户可能无法退出 Plasma 子链并安全地转移资产。

### 2025.01.13
学习目标：今天是系统的学习 DA 的风险化评估框架
DA 的风险是什么

DA 最大的风险来自于 2 个类目，DA 层安全性和 DA 桥安全性 DA 安全性的角度来思考，主要的风险是来自于经济安全和欺诈验证机制 从经济安全的角度来看，具体的量化指标为 DA 层委员会为成功执行数据扣留攻击而需要消耗的资金量，分成三种状态：绿色，黄色，红色，决定这种状态的主要在与可削减资产和担保资产的价值比例，然后就是委员会成员的披露情况

从欺诈验证机制的角度来看， DA 层上数据扣留攻击和无效擦除编码数据的机制，例如，绿色的状态：为 DA 层可以检测到数据扣留攻击和无效的擦除编码数据。数据可用性采样 (DAS) 具有强大的块重建功能，可用于擦除编码欺诈证明（如果适用），并且网络上存在最少数量的轻节点，以便能够检测无效块并集体重建数据。

DA 桥的安全性主要来自于委员会构成，可升级性，以及中继器构成等

委员会构成来自于委员会的规模、成员多样性以及数据可用性认证和可检索性阈值，越多的诚实节点（最少三分之一的诚实节点）以及越多的外部委员会人员参与，代表着安全性越强，绿色状态的安全性为：稳健而多元化的委员会：委员会要求，安全证明数据可用性所需的诚实成员（或网络质押）的最低比例不超过 1/3。进入运营商集是无需许可的，仅需满足质押要求和委员会成员诚实的大多数（或去中心化治理流程）。

可升级性评估上面：重点关注允许用户在升级时有足够时间退出的机制，主要表现在退出时间以及验证性上，绿色状态保持 30 天的退出延迟期，黄色状态为 7 天，红色状态为少于 7 天，

中继器故障方面，中继器是负责将 DA 承诺从 DA 层转发到以太坊上的 DA 桥的实体，最佳状态是用户可以无需许可地自我提议 DA 承诺。
Reference

https://forum.l2beat.com/t/the-data-availability-risk-framework/318/3

问题1：da是啥？
2：DA 层 DA 桥、经济安全和欺诈验证机制、诚实节点、运营商集、去中心化治理流程这些名词要搞明白。

### 2025.01.14
**1、可升级性为啥重要？**

回答：Optimistic Rollup 需要可升级性的主要原因如下：


（1）修复安全漏洞

L2 解决方案相对较新，可能会发现新的攻击向量（例如 MEV、重入攻击、欺诈证明漏洞）。如果没有可升级性，漏洞可能会影响整个 L2 生态，甚至导致资金丢失。

例如：
Arbitrum 在 2021 年发现 Bridge 智能合约漏洞，并紧急修复。

Optimism 曾因 多签安全风险 进行合约升级。

可升级性可以确保 L2 运营者在发现问题后能迅速修复，而无需等待社区共识或硬分叉。

（2）优化 Gas 费用 & 提高吞吐量

以太坊 L1 交易成本高昂，而 L2 通过批量交易（Batching）和数据压缩来减少 Gas 费用。

可升级性允许：优化交易批次处理，降低 L1 提交的 Gas 成本。改进欺诈证明机制，减少计算成本（如使用 ZK 组件）。升级数据存储方式，降低 calldata 费用（如 EIP-4844 的 blob storage）。

例如，Optimism 在 2023 年推出“Bedrock 升级”，显著降低 Gas 费用，并缩短提现时间。

（3）适应以太坊 L1 的升级

以太坊 L1 生态会不断升级，例如：EIP-4844（Proto-Danksharding） 提供更低成本的数据存储，L2 需要调整架构以利用该功能。EIP-1559 影响 Gas 费模型，L2 需要调整 Sequencer 费用计算方式。

如果 OP Rollup 没有可升级性，它将无法与以太坊 L1 保持兼容，可能导致性能下降或交易失败。

（4）改进欺诈证明（Fraud Proof）

目前，Optimistic Rollup 的欺诈证明（Fraud Proof）仍然依赖中心化的 Sequencer，如果 Sequencer 作恶，网络可能无法正常运作。

未来改进方向：去中心化的欺诈证明（任何人都可以执行欺诈证明）。更高效的欺诈挑战机制（如多轮交互式欺诈证明）。如果 OP Rollup 不能升级，它就无法改进欺诈证明机制，最终会影响去中心化和安全性。

（5）增强去中心化治理

目前，大多数 Optimistic Rollup 由少数核心开发者或基金会管理（如 Optimism Foundation）。

目标：逐步转向 DAO（去中心化自治组织）治理，让社区能够提出提案并进行协议升级投票。

例如：Optimism 采用了 OP Citizens 进行治理升级。Arbitrum 采用 Arbitrum DAO 进行协议调整。如果 L2 无法升级，治理机制就无法演进，最终可能导致中心化风险。可升级性需要安全机制，如多签、时间锁和 DAO 治理，以防止中心化风险。目前 Optimism 采用 Bedrock 升级，逐步增强可升级性，并向 DAO 过渡。

多签：目前，Optimism 和 Arbitrum 依赖 多签钱包（Multisig Wallet） 进行合约升级。优点：允许快速修复漏洞。降低治理复杂度。缺点：仍然较为中心化，可能被滥用。

时间锁（Timelock） ：确保升级前有预告期，让社区可以审核升级内容，并在必要时反对升级。

dao治理：未来，Optimistic Rollup 将完全由 DAO 社区治理，升级需要社区投票批准。

**2、逃生舱为啥重要？**

Optimistic Rollup 目前依赖 中心化的 Sequencer 进行交易排序和状态提交，这带来了 单点故障（Single Point of Failure） 的风险。如果 Sequencer 发生故障，用户可能无法正常交易，甚至无法提现。

逃生舱的核心作用：

1、防止 L2 运营者作恶

如果 L2 运营者（如 Optimism 的 Sequencer）故意审查交易（Censorship） 或 不提交 L2 状态，用户仍然可以通过逃生舱在 L1 取回资金。

2、应对 Sequencer 停止运行

如果 L2 Sequencer 宕机（无论是技术问题、黑客攻击还是法律强制关闭），用户仍然可以撤回资产。

3、防止 L2 智能合约漏洞

4、如果 L2 发现智能合约漏洞，导致链上状态可能被篡改，用户可以迅速撤回资金。

5、去中心化发展需求

Rollup 未来的目标是 完全去中心化，不能让任何单个实体掌握资金进出权。

逃生舱确保 L2 不能单方面冻结用户资产，必须允许资金安全返回 L1。

**3、DA是什么，DA层DA桥又是什么？**

DA（数据可用性，Data Availability，数据可用性） 是指区块链网络确保所有参与者都能访问并验证交易数据的能力。

在 Rollup（L2 解决方案） 例如 Optimistic Rollup 和 ZK-Rollup 中，数据可用性是保障 L2 交易安全性的关键：L2 交易在链下执行，最终结果提交到 L1（例如以太坊）。

如果 L2 提交的状态数据不可用，验证者将无法证明交易是正确的，导致欺诈者可能提交无效状态。

Rollup 依赖 DA 来确保交易数据是可验证的，即使 L2 运营者作恶，用户也可以恢复正确状态。

简单来说：没有数据可用性，用户无法信任 Rollup 提交的状态，导致资金安全风险。

DA 层（Data Availability Layer） 是一个专门用于存储和提供交易数据的层，确保 L2 或 Rollup 交易数据长期可用、可验证、不可篡改。

DA 桥（Data Availability Bridge） 是 连接 L2 Rollup 和 DA 层的桥接机制，确保 L2 交易数据可以被 L1 验证。
### 2024.07.12

<!-- Content_END -->
