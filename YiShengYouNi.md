---
timezone: Asia/Shanghai
---

# Henry Wei

1.自我介绍

大家好！我是一名拥有 10 年 Web 开发经验的技术经理和架构师，在多家公司中带领过团队，也主导过多个中大型项目的技术设计。写代码、解决问题、优化用户体验这些事，一直让我感到兴奋，因为我热爱创造并看到它产生实际影响。

最近，我对 Web3 领域产生了浓厚的兴趣。这个充满未知和可能性的领域让我很兴奋，也让我重新找回了刚开始学习编程时的那种好奇心。我希望未来能在这方面做一些尝试，深入探索区块链和去中心化的世界。

生活中，我喜欢和不同文化、背景的人交流，总能从他们的故事中获得灵感。我相信，每一次真诚的交流都是一次成长的机会。

我是个对未来充满信心的人，无论是面对技术还是生活中的挑战，我始终相信，只要脚踏实地，总会迎来让人惊喜的结果。期待和更多志同道合的人一起交流，共同学习！

2.你认为你会完成本次残酷学习吗？

很高兴可以参加这次共建学习，我相信自己会坚持到第21天，加油吧！

## Notes

<!-- Content_START -->

### 2025.01.06

#### Layer2 扩容方案

Layer 2 扩容方案是为了提升区块链的性能，尤其是`处理速度`和`降低交易成本`，它们通常在现有的 Layer 1 区块链（如以太坊）之上运行.

##### 状态通道（State Channels）

状态通道是允许用户在链外进行多次交易，然后仅在最终结果时将其提交到主链的一种方法。通过这种方式，可以显著减少链上交易的数量，从而提高效率。

- 优点：交易速度快、成本低、隐私保护好。
- 缺点：适用于交互频繁的小额支付场景，不适合大规模应用。

例子：

- 闪电网络（Lightning Network）：比特币的状态通道扩容方案。
- Raiden Network：以太坊的状态通道扩容方案

##### Rollups

Rollups 是将交易打包成批次后，发送到主链上进行验证的技术。通过将交易批量化处理，减少了主链的负担，同时保持了安全性

Rollups 主要有两种类型：

- **ZK-Rollups（零知识汇总）**：

  通过零知识证明（ZKP）将链外的计算结果验证到链上。ZK-Rollups 提供高效的可扩展性和安全性，支持更高的交易吞吐量和更低的延迟。

- **Optimistic Rollups（乐观汇总）**：
  
  假设交易是合法的，并且在有争议时会通过挑战机制来验证。Optimistic Rollups 更易实现，但相比 ZK-Rollups 在效率上有所牺牲。
  
优点：

- ZK-Rollups：高效、安全、低延迟。
- Optimistic Rollups：实现简单、易于扩展。

例子：

- zkSync、StarkWare（基于 ZK-Rollups）
- Optimism、Arbitrum（基于 Optimistic Rollups）

##### Plasma

Plasma 是一种构建在主链上的子链架构，它通过在链下处理交易并定期将其压缩后提交到主链来扩展区块链的处理能力。

它允许更多的交易通过“子链”进行，并且在子链与主链之间使用特殊的验证程序来保证安全性。

优点：

- 可扩展性强。
- 主链的安全性得到保障。

缺点：

- 状态更新的延迟。
- 需要定期进行“退出”操作，防止欺诈。

例子：

- OmiseGo：基于 Plasma 的扩容解决方案

#### Sidechains

Sidechains 是独立的区块链，可以与主链进行双向资产转移。与 Rollups 不同，Sidechains 通常有自己的共识机制，并且交易处理是完全独立于主链的

优点：

- 可以根据需要自定义链的参数和共识机制。
- 可扩展性较强。

缺点：

- 安全性较差，因为 Sidechain 可能没有和主链同样强的安全保障。
- 需要用户对资产的管理和监控。

例子：

Polygon（原 Matic）：提供 Layer 2 扩容的 Sidechain 解决方案

#### Nested Blockchains

通过创建多个嵌套的链结构，允许每个子链处理不同的应用或交易类型，从而提高主链的吞吐量。每个嵌套区块链都有自己的操作规则，并与主链进行通信。

优点：

- 高度可定制。
- 可以分散工作负载，减少主链的压力。

缺点：

- 系统复杂度较高。
- 可能会影响数据的同步和一致性

### 2025.01.07

#### Layer2 扩容方案（续）

##### Validium

Validium 是一种类似于 ZK-Rollups 的方案，它通过使用`零知识证明`来确保数据的正确性，但与 ZK-Rollups 不同，Validium 将数据存储在链外（而非链上）。这种方案减少了链上存储的需求，从而提供更高的扩展性。

优点：

- 高效、安全，特别适合大规模的数据处理。
- 交易处理速度非常快，吞吐量极高。

缺点：

- 数据不存储在链上，可能会影响去中心化和安全性。
- 用户需要信任数据可用性提供者。

例子：

- StarkWare 的 StarkEx 使用 Validium。

##### Channel Networks

Channel Networks 是一种扩容技术，它基于多个状态通道连接形成一个网络，让多个参与者之间的交易可以快速、低成本地进行，并且可以跨多个链路进行支付。这种方式通常用于点对点的交易系统，可以高效处理大规模的支付网络。

优点：

- 支持高效的支付通道网络
- 可以跨多个参与方进行交易

缺点：

- 需要预先设立支付通道
- 与普通的状态通道相比，复杂度更高

例子：

- Raiden Network：实现了一个基于以太坊的支付通道网络，支持跨链支付。

##### Optimistic Virtual Machines (OVM)

Optimistic Virtual Machines 是一种在 Optimistic Rollups 上的进一步扩展。OVM 允许开发者在 Optimistic Rollups 上执行任何 EVM 兼容的智能合约，同时保持较低的交易费用和较高的吞吐量。

优点：

- 与 EVM 兼容，可以在 Rollups 上运行现有的智能合约。
- 提供了更高的扩展性和可编程性。

点：

- 需要优化与 EVM 的兼容性和性能。
- 提供的安全性依赖于挑战机制的有效性。

例子：

- Optimism：利用 OVM 技术来运行基于以太坊的智能合约。

##### 执行层分片（Execution Layer Sharding）

执行层分片是将区块链网络的计算负载分担到多个并行处理的子网络（或分片）上。每个分片负责一部分计算任务，从而实现对交易的并行处理。这种方式通常与其他 Layer 2 技术结合使用，以提供更高效的扩展性。

优点：

- 大大提高了交易的并行处理能力。
- 更高的吞吐量和更低的延迟。

缺点：

- 实现较为复杂，存在一致性和协调问题。
- 需要大量的网络和存储资源。

例子：

- Ethereum 2.0 中的分片设计，就是将执行层与数据层分离，通过执行层分片来扩展性能。

##### Hybrid Layer 2 Solutions

Hybrid Layer 2 方案结合了不同类型的 Layer 2 技术，如 Rollups 和状态通道，以弥补各自的不足之处。这些方案通常允许灵活选择合适的扩容技术，以满足具体应用场景的需求。

优点：

- 灵活、可定制，能够根据应用的需求选择不同的技术。
- 提供更高的扩展性和更低的交易成本。

缺点：

- 需要更复杂的设计和实施。
- 在不同技术之间可能存在协作问题。

例子：

- Loopring：结合了 ZK-Rollups 和状态通道技术，用于去中心化交易所（DEX）场景。

##### Data Availability Sampling (DAS)

DAS 是一种通过`采样`来检查数据可用性的方法，通常与其他扩容技术如 Rollups 或 Validium 一起使用。通过采样，用户可以确定数据是否可用，而不需要下载整个数据集，从而提高效率。

优点：

- 高效的数据可用性验证。
- 减少了数据存储和传输的开销。

缺点：

- 需要设计和实现有效的采样机制。
- 可能存在数据可用性风险，依赖于节点和协议的正确性。

例子：

- Celestia：一个新的区块链设计，专注于数据可用性和分布式计算，结合了 DAS 技术。

##### Comet (Cosmos SDK)

Comet 是 Cosmos SDK 中的一种基于区块链架构的扩容方案，通过支持不同区块链间的互操作性来提高网络的扩展性。Comet 提供了跨链通信和独立的区块链治理机制，可以大幅提升吞吐量。

优点：

- 强调链间互操作性和去中心化。
- 可扩展的多链架构。

缺点：

- 跨链通信需要高效的共识协议和安全保障。
- 实现和维护较为复杂。

例子：

- Cosmos：通过 IBC（Inter-Blockchain Communication）协议实现区块链间的通信和协作，支持大规模的扩展

### 2025.01.08

#### OP 与其他L2扩容比较

##### Optimistic Rollups (OP)

Optimistic Rollups 假设交易是有效的，只有在出现争议时才会通过`挑战机制`进行验证。它们将计算和状态更新移到链外，而交易的最终性则通过链上的验证确保。

- 优点：

  - 兼容性：可以与现有的以太坊智能合约兼容，支持 EVM。
  - 简单实现：相比于 ZK-Rollups，实现较为简单，开发者可以较容易上手。
  - 扩展性：相比直接在 Layer 1 上处理，吞吐量大幅提升。
  - 交易费用较低：相比直接使用 Layer 1，交易成本显著下降。

- 缺点：

  - 最终性延迟：因为交易的验证是异步的，可能会经历挑战期，最终性存在延迟。
  - 挑战机制复杂：需要有效的挑战机制来保证安全性，一旦挑战机制被滥用或失效，可能会影响系统安全。
  - 数据可用性问题：挑战期内，交易数据的可用性和透明性是一个潜在问题。

- 适用场景：

  - 去中心化金融（DeFi），尤其是有大量的复杂智能合约的场景。
  - 中等复杂度的应用，注重 EVM 兼容性。

- 典型例子：

  - **Optimism**
  - **Arbitrum**

##### ZK-Rollups (Zero-Knowledge Rollups)

ZK-Rollups 使用`零知识证明`技术，将大量交易批量打包，然后通过一个`ZK-SNARK（零知识简洁非交互式论证）`提交给主链。这种方案能在保证安全性的同时，提供非常高的扩展性。

- 优点：

  - 最终性快速：ZK-Rollups 不需要挑战期，交易的最终性几乎是即时的。
  - 更高的扩展性：可以在单个区块中批量处理更多交易，吞吐量极高。
  - 隐私保护：通过零知识证明，ZK-Rollups 可以实现数据隐私保护。

- 缺点：

  - 开发难度大：ZK-Rollups 的实现相对复杂，开发者需要掌握零知识证明技术。
  - 与现有合约兼容性差：与以太坊现有的智能合约兼容性较差，迁移现有合约较为困难。
  - 计算复杂性：生成和验证零知识证明所需的计算资源较高。

- 适用场景：

  - 对`性能和隐私`有较高要求的场景，尤其是`大规模交易`。
  - 区块链需要较高安全性和即时交易确认的场景。

- 典型例子：

  - zkSync
  - StarkWare（StarkEx）
  - Loopring

##### Plasma

Plasma 是一种通过`子链`将计算工作移至链外的扩容方案。交易先在子链中处理，最终结果通过`Merkle Tree`提交到主链。

- 优点：

  - 强大的安全性：主链通过提交`状态根`来确保子链的安全。
  - 能处理复杂应用：适合需要大量计算的复杂应用场景。
  - 适合批量处理：可以高效地处理批量交易。

- 缺点：

  - 退出机制复杂：用户需要能够安全地从 Plasma 链退出，确保他们的资金不会被卡住。
  - 状态更新延迟：由于 Plasma 的退出机制依赖于挑战期，因此存在一定的延迟。
  - 数据可用性问题：可能存在子链的数据不可用或不可访问的风险。

- 适用场景：

  - 大规模数据处理，如 游戏 和 高频交易。
  - 对 去中心化 和 安全性 有较高要求的场景。

- 典型例子：

  - OmiseGO

##### Sidechains

Sidechains 是独立的区块链，可以与主链进行`双向`资产转移。它们拥有自己的共识机制和治理方式，能够提供定制的特性和高扩展性。

- 优点：

  - 高度可定制：可以针对具体应用需求定制共识机制和链的参数。
  - 较低的交易费用：可以降低交易的成本，提升吞吐量。
  - 灵活性强：支持自定义智能合约和应用逻辑。

- 缺点：
  - 安全性较低：侧链的安全性依赖于它的共识机制，通常不如主链强。
  - 资产迁移复杂：虽然支持双向资产转移，但迁移资产时需要额外的信任机制。

- 适用场景：

  - 有特殊需求的应用，如需要定制化共识机制的项目。
  - 高吞吐量场景，如 游戏 和 内容创作平台。

- 典型例子：

  - Polygon（Matic）
  - XDAI

##### 状态通道（State Channels）

State Channels 允许用户在链外进行多次交易，只有最终的交易结果被提交到主链。这种方案适用于需要频繁交互的小额支付场景。

- 优点：

  - 低延迟：由于大部分交易在链外处理，交易响应速度非常快。
  - 低交易费用：链外交易不需要每笔都支付费用，只有最终结果被提交时才产生费用。
  - 隐私保护：交易过程完全链外，提供更好的隐私保护。

- 缺点：

  - 仅适用于特定场景：主要适合小额支付和频繁交易的应用，不适合所有应用。
  - 需事先设置通道：需要在参与方之间事先建立支付通道。

- 适用场景：

  - 即时支付，如 游戏内支付 和 微支付。
  - 频繁交互，如 去中心化交易所（DEX）。

- 典型例子：

  - Raiden Network（以太坊的状态通道）
  - Lightning Network（比特币的状态通道）

|特性|OP|Zk-rollup| Plasma | sideChains| State Channels|
|---|---|---|---|---|---|  
|扩展性| 中等，依赖于挑战期 | 高，批量处理大量交易 | 高，适用于大规模数据处理  | 高，适合大规模应用 |  高，针对小额支付和频繁交易 |
|安全性 |依赖挑战机制，有延迟 | 高，几乎即时的最终性 | 高，有退出机制和数据可用性问题  |较低，依赖于侧链的共识机制 | 高，链外交易有隐私保护 |
|开发难度| 中等，基于现有智能合约 | 高，零知识证明实现较复杂 |中等，需实现退出和挑战机制  | 低至中等，侧链可以定制 | 低，需要预设支付通道 |
|最终性 | 延迟较长，依赖挑战期  | 几乎即时，零知识证明确保最终性 | 延迟较长，退出期较复杂 | 快，资产可实时转移到侧链  | 快，链外交易立刻生效 |
|适用场景 | DeFi、智能合约复杂应用  | 高吞吐量、隐私保护、大规模交易 | 大规模数据处理、复杂应用 | 特定应用、定制化需求  | 微支付、小额频繁交易 |

<!-- Content_END -->
